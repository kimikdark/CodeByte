<div class="product-list-container">
  <h2>Nossos Produtos</h2>

  <div *ngIf="isLoading" class="loading-message">
    Carregando produtos...
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
    <button (click)="getProducts()">Tentar Novamente</button>
  </div>

  <div *ngIf="!isLoading && products.length === 0 && !errorMessage" class="no-products-message">
    Nenhum produto encontrado.
  </div>

  <div class="product-grid" *ngIf="!isLoading && products.length > 0">
    <div *ngFor="let product of products" class="product-card">
      <h3>{{ product.nome }}</h3>
      <p class="description">{{ product.descricao }}</p>
      <p class="price">Pre√ßo: {{ product.preco | currency:'EUR':'symbol':'1.2-2' }}</p>
      <p>Categoria: {{ product.categoria }}</p>
      <p [ngClass]="{
        'stock-low': isLowStock(product.quantidadeEmStock),
        'stock-out': isOutOfStock(product.quantidadeEmStock)
      }">
        Stock: {{ product.quantidadeEmStock }} unidades
        <span *ngIf="isLowStock(product.quantidadeEmStock)" class="alert-text">(Baixo Stock!)</span>
        <span *ngIf="isOutOfStock(product.quantidadeEmStock)" class="alert-text">(Esgotado!)</span>
      </p>

      <div class="actions">
        <button class="delete-btn" (click)="deleteProduct(product.id)">Excluir</button>
      </div>
    </div>
  </div>
</div>